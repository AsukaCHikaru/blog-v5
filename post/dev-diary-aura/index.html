<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Dev Diary: Aura | The work is undone.</title><meta name="description" content="asukachikaru&#x27;s blog"/><meta property="og:title" content="Dev Diary: Aura | The work is undone."/><meta property="twitter:title" content="Dev Diary: Aura | The work is undone."/><meta name="next-head-count" content="6"/><link rel="preload" href="/_next/static/css/dffe97692424ee50.css" as="style"/><link rel="stylesheet" href="/_next/static/css/dffe97692424ee50.css" data-n-g=""/><link rel="preload" href="/_next/static/css/d8403707d10b0477.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d8403707d10b0477.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-6415698a90a689fa.js" defer=""></script><script src="/_next/static/chunks/pages/_app-891652dd44e1e4e1.js" defer=""></script><script src="/_next/static/chunks/851-9acd1ec9a820dfa8.js" defer=""></script><script src="/_next/static/chunks/467-206e472a8fb3a402.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bpathname%5D-6cfc5c8b83af8180.js" defer=""></script><script src="/_next/static/ztRSJgNcTa_PuDvxjbp2T/_buildManifest.js" defer=""></script><script src="/_next/static/ztRSJgNcTa_PuDvxjbp2T/_ssgManifest.js" defer=""></script></head><link rel="preload" href="/fonts/NotoSerifJP-Regular.woff2" as="font" type="font/woff2"/><body><div id="__next"><div class="max-w-3xl mx-auto"><div class="mt-8 mb-4"><h1 class="mb-2 text-6xl font-semibold">Dev Diary: Aura</h1><div class="text-xl"><span class="inline-block h-6 leading-6 mr-2 pr-2 border-r border-r-foreground dark:border-r-background">May 28, 2018</span><span class="mr-2 text-lg"><a href="/tag/game%20design/">#<!-- -->game design</a></span></div></div><div class="mb-2 text-lg"><p><span>在最近進行的 side project 中刻了一個靈氣(aura)輪子。比我想像中的麻煩，決定動筆記錄一下。</span></p></div><div class="mb-2 text-lg"><p><span>首先，這是個規模很小的回合制遊戲，所有角色算攻防加權的動作可以塞在一個迴圈裡面。概念很簡單，我打算先算加權，然後再用加權套進攻防公式，而靈氣的部分就塞在加權裡一起處理。</span></p></div><div class="mb-2 text-lg"><p><span>這裡出現了第一個問題：回到剛剛說的「一個迴圈算完所有數字」，這導致了有些人的靈氣被套進加權時，應該被影響的對象已經先算完了。我也不想算每個人的攻防時再去抓一次所有角色所持有靈氣的判斷，效率感覺就很差。</span></p></div><div class="mb-2 text-lg"><p><span>所以我在每次行動決定後攻防開始前，先把靈氣註冊到該陣營的資料裡，如此就不用多從所有角色撈一次靈氣的資料，所有人都可以到固定的地方找靈氣。</span></p></div><div class="mb-2 text-lg"><p><span>就這樣很開心地開始跑了之後出現了第二個問題：由於系統設計上所有角色的加權都可能互相影響，每次算加權都會對每個角色計算一次。幾個角色行動就算幾次。所以靈氣的效果就被乘以人數。</span></p></div><div class="mb-2 text-lg"><p><span>我的解法是當靈氣啟動時算一次受影響目標，連帶的加權也在那時候就算完。靈氣的啟動與否會有很明顯的斷點(每次攻防結束都會斷掉，效果就被收回。開始時再啟動，這時再把效果加回去)。而原本的加權計算部分，從只計算靈氣的效果加上啟動與否的判斷。</span></p></div><div class="mb-2 text-lg"><p><span>就遊戲設計上來說靈氣是一個不好處理的東西。持續性的效果代表特效不會比一次性的技能顯目，但如此往往讓玩家低估了他實際的效果，同時設計者與玩家之間對靈氣在 lore 所扮演角色的沉浸感也常常有所歧異。</span></p></div><div class="mb-2 text-lg"><p><span>簡單地說，如果不是很花巧思的靈氣，你往往會覺得他很無聊。但這樣無聊的東西事實上花了比我想像還多的功夫，僅此紀錄一筆。</span></p></div><div class="mb-2 text-lg"><p><span>至於我把靈氣寫完之後發現太強所以拔掉就又是另一個故事了。</span></p></div><div class="mt-5 mb-5 text-center"><a href="https://asukachikaru.com" rel="noopener noreferrer" target="_blank">asukachikaru.com</a> <!-- -->2018-</div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"list":{"object":"list","results":[{"object":"block","id":"f6324680-8271-4b94-8a6b-89d439e63295","parent":{"type":"page_id","page_id":"bdae49b6-13cf-40c0-b4d8-267929f0c893"},"created_time":"2022-01-07T05:26:00.000Z","last_edited_time":"2022-01-07T05:26:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"在最近進行的 side project 中刻了一個靈氣(aura)輪子。比我想像中的麻煩，決定動筆記錄一下。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"在最近進行的 side project 中刻了一個靈氣(aura)輪子。比我想像中的麻煩，決定動筆記錄一下。","href":null}]}},{"object":"block","id":"0612d004-3273-4800-b7d3-006ecfbe446f","parent":{"type":"page_id","page_id":"bdae49b6-13cf-40c0-b4d8-267929f0c893"},"created_time":"2022-01-07T05:26:00.000Z","last_edited_time":"2022-01-07T05:26:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"首先，這是個規模很小的回合制遊戲，所有角色算攻防加權的動作可以塞在一個迴圈裡面。概念很簡單，我打算先算加權，然後再用加權套進攻防公式，而靈氣的部分就塞在加權裡一起處理。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"首先，這是個規模很小的回合制遊戲，所有角色算攻防加權的動作可以塞在一個迴圈裡面。概念很簡單，我打算先算加權，然後再用加權套進攻防公式，而靈氣的部分就塞在加權裡一起處理。","href":null}]}},{"object":"block","id":"6292f015-a4f5-4701-9cee-6671d6b65f40","parent":{"type":"page_id","page_id":"bdae49b6-13cf-40c0-b4d8-267929f0c893"},"created_time":"2022-01-07T05:26:00.000Z","last_edited_time":"2022-01-07T05:26:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"這裡出現了第一個問題：回到剛剛說的「一個迴圈算完所有數字」，這導致了有些人的靈氣被套進加權時，應該被影響的對象已經先算完了。我也不想算每個人的攻防時再去抓一次所有角色所持有靈氣的判斷，效率感覺就很差。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"這裡出現了第一個問題：回到剛剛說的「一個迴圈算完所有數字」，這導致了有些人的靈氣被套進加權時，應該被影響的對象已經先算完了。我也不想算每個人的攻防時再去抓一次所有角色所持有靈氣的判斷，效率感覺就很差。","href":null}]}},{"object":"block","id":"ef8d85a6-c1d4-4f9a-a870-193278200366","parent":{"type":"page_id","page_id":"bdae49b6-13cf-40c0-b4d8-267929f0c893"},"created_time":"2022-01-07T05:26:00.000Z","last_edited_time":"2022-01-07T05:26:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"所以我在每次行動決定後攻防開始前，先把靈氣註冊到該陣營的資料裡，如此就不用多從所有角色撈一次靈氣的資料，所有人都可以到固定的地方找靈氣。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"所以我在每次行動決定後攻防開始前，先把靈氣註冊到該陣營的資料裡，如此就不用多從所有角色撈一次靈氣的資料，所有人都可以到固定的地方找靈氣。","href":null}]}},{"object":"block","id":"083feb9d-d391-4825-8746-14526460aa52","parent":{"type":"page_id","page_id":"bdae49b6-13cf-40c0-b4d8-267929f0c893"},"created_time":"2022-01-07T05:26:00.000Z","last_edited_time":"2022-01-07T05:26:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"就這樣很開心地開始跑了之後出現了第二個問題：由於系統設計上所有角色的加權都可能互相影響，每次算加權都會對每個角色計算一次。幾個角色行動就算幾次。所以靈氣的效果就被乘以人數。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"就這樣很開心地開始跑了之後出現了第二個問題：由於系統設計上所有角色的加權都可能互相影響，每次算加權都會對每個角色計算一次。幾個角色行動就算幾次。所以靈氣的效果就被乘以人數。","href":null}]}},{"object":"block","id":"699774d4-f9ca-4693-9244-e4194101e3d8","parent":{"type":"page_id","page_id":"bdae49b6-13cf-40c0-b4d8-267929f0c893"},"created_time":"2022-01-07T05:26:00.000Z","last_edited_time":"2022-01-07T05:26:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"我的解法是當靈氣啟動時算一次受影響目標，連帶的加權也在那時候就算完。靈氣的啟動與否會有很明顯的斷點(每次攻防結束都會斷掉，效果就被收回。開始時再啟動，這時再把效果加回去)。而原本的加權計算部分，從只計算靈氣的效果加上啟動與否的判斷。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"我的解法是當靈氣啟動時算一次受影響目標，連帶的加權也在那時候就算完。靈氣的啟動與否會有很明顯的斷點(每次攻防結束都會斷掉，效果就被收回。開始時再啟動，這時再把效果加回去)。而原本的加權計算部分，從只計算靈氣的效果加上啟動與否的判斷。","href":null}]}},{"object":"block","id":"981fe01e-2537-4058-8f5a-6e335a4c4ada","parent":{"type":"page_id","page_id":"bdae49b6-13cf-40c0-b4d8-267929f0c893"},"created_time":"2022-01-07T05:26:00.000Z","last_edited_time":"2022-01-07T05:26:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"就遊戲設計上來說靈氣是一個不好處理的東西。持續性的效果代表特效不會比一次性的技能顯目，但如此往往讓玩家低估了他實際的效果，同時設計者與玩家之間對靈氣在 lore 所扮演角色的沉浸感也常常有所歧異。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"就遊戲設計上來說靈氣是一個不好處理的東西。持續性的效果代表特效不會比一次性的技能顯目，但如此往往讓玩家低估了他實際的效果，同時設計者與玩家之間對靈氣在 lore 所扮演角色的沉浸感也常常有所歧異。","href":null}]}},{"object":"block","id":"b1d9a2c1-7aac-4347-8c94-35fb716b0caf","parent":{"type":"page_id","page_id":"bdae49b6-13cf-40c0-b4d8-267929f0c893"},"created_time":"2022-01-07T05:26:00.000Z","last_edited_time":"2022-01-07T05:26:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"簡單地說，如果不是很花巧思的靈氣，你往往會覺得他很無聊。但這樣無聊的東西事實上花了比我想像還多的功夫，僅此紀錄一筆。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"簡單地說，如果不是很花巧思的靈氣，你往往會覺得他很無聊。但這樣無聊的東西事實上花了比我想像還多的功夫，僅此紀錄一筆。","href":null}]}},{"object":"block","id":"b9035f26-afab-494a-8826-e1c02b1b954c","parent":{"type":"page_id","page_id":"bdae49b6-13cf-40c0-b4d8-267929f0c893"},"created_time":"2022-01-07T05:26:00.000Z","last_edited_time":"2022-01-07T05:26:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"至於我把靈氣寫完之後發現太強所以拔掉就又是另一個故事了。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"至於我把靈氣寫完之後發現太強所以拔掉就又是另一個故事了。","href":null}]}}],"next_cursor":null,"has_more":false},"postSummary":{"id":"bdae49b6-13cf-40c0-b4d8-267929f0c893","title":"Dev Diary: Aura","category":"gaming","language":["zhTW"],"tags":["game design"],"publishDate":"2018-05-28","pathname":"dev-diary-aura","zhTwLink":"https://www.notion.so/asukachikaru/Dev-Diary-Aura-bdae49b613cf40c0b4d8267929f0c893"}},"__N_SSG":true},"page":"/post/[pathname]","query":{"pathname":"dev-diary-aura"},"buildId":"ztRSJgNcTa_PuDvxjbp2T","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>