{"pageProps":{"list":{"object":"list","results":[{"object":"block","id":"0b920fab-5366-48ad-ba47-9e02ee8d22bc","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"TL;DR:","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"TL;DR:","href":null}]}},{"object":"block","id":"708422b6-23bb-4b5c-8497-ddc96e78db9e","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":true,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"color":"default","text":[{"type":"text","text":{"content":"fs.stat","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"fs.stat","href":null}]}},{"object":"block","id":"7c9fe058-6ddd-4912-aa27-1d557dfcaba2","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"color":"default","text":[{"type":"text","text":{"content":"readline.clearLine","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"readline.clearLine","href":null}]}},{"object":"block","id":"e6bdc27a-1168-4e7e-b8bd-c455f81ce3fa","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"color":"default","text":[{"type":"text","text":{"content":"readline.cursorTo(0)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"readline.cursorTo(0)","href":null}]}},{"object":"block","id":"e093cc53-3983-478e-8e5b-a2cb905d5a6e","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"color":"default","text":[{"type":"text","text":{"content":"process.stdout.write","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"process.stdout.write","href":null}]}},{"object":"block","id":"1a330431-2309-4ff4-8774-07376cd1c8a5","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"combine these 3 to update command line instead of printing new line","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"combine these 3 to update command line instead of printing new line","href":null}]}},{"object":"block","id":"820f85fe-a678-4220-bc0e-e2d17c626fef","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Get file size","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Get file size","href":null}]}},{"object":"block","id":"3a72c6fe-b3f4-4e10-80e9-d60e1e3d7303","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"fs.stat","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"fs.stat","href":null},{"type":"text","text":{"content":" returns an object contains several stats of the file from url you're downloading.\n\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" returns an object contains several stats of the file from url you're downloading.\n\n","href":null},{"type":"text","text":{"content":"Detailed explanation of fs.stat","link":{"url":"https://nodejs.org/api/fs.html#fs_class_fs_stats"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Detailed explanation of fs.stat","href":"https://nodejs.org/api/fs.html#fs_class_fs_stats"},{"type":"text","text":{"content":".\n\nInside of the object, there is ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":".\n\nInside of the object, there is ","href":null},{"type":"text","text":{"content":"size","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"size","href":null},{"type":"text","text":{"content":" property, which is obviously the size of file, in bytes.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" property, which is obviously the size of file, in bytes.","href":null}]}},{"object":"block","id":"895eea4e-683b-4995-908e-c2644dbfc502","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"","href":null},{"type":"text","text":{"content":"let fileSize = 0;\nfs.stat('url/to/your/file', (stats)=>{\n  fileSize = stats.size;\n});","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"let fileSize = 0;\nfs.stat('url/to/your/file', (stats)=>{\n  fileSize = stats.size;\n});","href":null}]}},{"object":"block","id":"a63aa6d4-a753-483d-bcb8-01ba9a1ef5b1","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Get current progression","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Get current progression","href":null}]}},{"object":"block","id":"68fc9058-bf00-4842-b89b-a22cb2d922f8","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"In the response from ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"In the response from ","href":null},{"type":"text","text":{"content":"https.get","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"https.get","href":null},{"type":"text","text":{"content":" when downloading, track and add up the total length of chunks piped into ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" when downloading, track and add up the total length of chunks piped into ","href":null},{"type":"text","text":{"content":"fs.writeStream","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"fs.writeStream","href":null},{"type":"text","text":{"content":". This total length devided by file size is the download progression we need.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":". This total length devided by file size is the download progression we need.","href":null}]}},{"object":"block","id":"57f30e92-306a-4bec-8d7a-992a673c3956","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Write to terminal, but in same line","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Write to terminal, but in same line","href":null}]}},{"object":"block","id":"9fae4dba-02f0-44a8-a48a-20c2effc2a55","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"console.log","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"console.log","href":null},{"type":"text","text":{"content":" ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ","href":null},{"type":"text","text":{"content":"implementation","link":{"url":"https://nodejs.org/docs/v0.3.1/api/process.html#process.stdout"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"implementation","href":"https://nodejs.org/docs/v0.3.1/api/process.html#process.stdout"},{"type":"text","text":{"content":" in Node is actually based on ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" in Node is actually based on ","href":null},{"type":"text","text":{"content":"process.stdout.write","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"process.stdout.write","href":null},{"type":"text","text":{"content":". But since there's a ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":". But since there's a ","href":null},{"type":"text","text":{"content":"\\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"\\n","href":null},{"type":"text","text":{"content":" at end of every ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" at end of every ","href":null},{"type":"text","text":{"content":"console.log","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"console.log","href":null},{"type":"text","text":{"content":", new line is printed everytime instead of being updated. Therefore we can't use ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":", new line is printed everytime instead of being updated. Therefore we can't use ","href":null},{"type":"text","text":{"content":"console.log","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"console.log","href":null}]}},{"object":"block","id":"392aee29-f642-416e-bd6a-2fd589251a7d","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"By combine ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"By combine ","href":null},{"type":"text","text":{"content":"readline.clearLine","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"readline.clearLine","href":null},{"type":"text","text":{"content":" and ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" and ","href":null},{"type":"text","text":{"content":"readline.cursorTo(0)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"readline.cursorTo(0)","href":null},{"type":"text","text":{"content":", terminal will erase the last line of currently printed line, then move cursor to the starting position. Then we can use ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":", terminal will erase the last line of currently printed line, then move cursor to the starting position. Then we can use ","href":null},{"type":"text","text":{"content":"process.stdout.write","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"process.stdout.write","href":null},{"type":"text","text":{"content":" to print out current progress without ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" to print out current progress without ","href":null},{"type":"text","text":{"content":"\\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"\\n","href":null},{"type":"text","text":{"content":" in ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" in ","href":null},{"type":"text","text":{"content":"console.log","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"console.log","href":null},{"type":"text","text":{"content":" implementation that causes changing line.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" implementation that causes changing line.","href":null}]}},{"object":"block","id":"d63c16ca-224f-406a-aee7-2dafd4d0d0d9","parent":{"type":"page_id","page_id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80"},"created_time":"2022-01-07T05:31:00.000Z","last_edited_time":"2022-01-07T05:31:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"","href":null},{"type":"text","text":{"content":"let progress = 0;\nlet req = https.get('url/to/your/file', (res, err)=>{\n  res.on('data', (chunk)=>{\n    progress += chunk.length;\n    const dlPercentage = ((progress/fileSize)*100).toFixed(2);\n    readline.clearLine();\n    readline.cursorTo(0);\n    process.stdout.write(`Downloading... ${dlPercentage}%`);\n  });\n});","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"let progress = 0;\nlet req = https.get('url/to/your/file', (res, err)=>{\n  res.on('data', (chunk)=>{\n    progress += chunk.length;\n    const dlPercentage = ((progress/fileSize)*100).toFixed(2);\n    readline.clearLine();\n    readline.cursorTo(0);\n    process.stdout.write(`Downloading... ${dlPercentage}%`);\n  });\n});","href":null}]}}],"next_cursor":null,"has_more":false},"postSummary":{"id":"aae94ff4-cb8a-463a-94ae-1e957bf58e80","title":"Download progress tool in terminal using Node.JS","category":"programming","language":["enUS"],"tags":["JavaScript","NodeJS"],"publishDate":"2019-06-07","pathname":"download-progress-tool-in-terminal-using-nodejs","zhTwLink":null}},"__N_SSG":true}