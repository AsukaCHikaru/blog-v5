<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Unity dev memo (1) | The work is undone.</title><meta name="description" content="asukachikaru&#x27;s blog"/><meta property="og:title" content="Unity dev memo (1) | The work is undone."/><meta property="twitter:title" content="Unity dev memo (1) | The work is undone."/><meta name="next-head-count" content="6"/><link rel="preload" href="/_next/static/css/dffe97692424ee50.css" as="style"/><link rel="stylesheet" href="/_next/static/css/dffe97692424ee50.css" data-n-g=""/><link rel="preload" href="/_next/static/css/d8403707d10b0477.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d8403707d10b0477.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-6415698a90a689fa.js" defer=""></script><script src="/_next/static/chunks/pages/_app-891652dd44e1e4e1.js" defer=""></script><script src="/_next/static/chunks/851-9acd1ec9a820dfa8.js" defer=""></script><script src="/_next/static/chunks/467-206e472a8fb3a402.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bpathname%5D-6cfc5c8b83af8180.js" defer=""></script><script src="/_next/static/c8Rrz5JLw0JRT3H3pGk8Y/_buildManifest.js" defer=""></script><script src="/_next/static/c8Rrz5JLw0JRT3H3pGk8Y/_ssgManifest.js" defer=""></script></head><link rel="preload" href="/fonts/NotoSerifJP-Regular.woff2" as="font" type="font/woff2"/><body><div id="__next"><div class="max-w-3xl mx-auto"><div class="mt-8 mb-4"><h1 class="mb-2 text-6xl font-semibold">Unity dev memo (1)</h1><div class="text-xl"><span class="inline-block h-6 leading-6 mr-2 pr-2 border-r border-r-foreground dark:border-r-background">Mar. 08, 2020</span><span class="mr-2 text-lg"><a href="/tag/Unity3D/">#<!-- -->Unity3D</a></span><span class="mr-2 text-lg"><a href="/tag/game%20design/">#<!-- -->game design</a></span></div></div><div class="mb-2 text-lg"><p><span>在數年的醞釀以及一時的心血來潮以後，我開始第一次真正投入時間學習 Unity 。至今一週，最大的感想是過往兩年自學程式的經驗惠我良多，但並不是因為程式的概念等，而是在尋找資源，搜尋關鍵字，看文件的速度上，比起兩三年前另一次摸 Unity 的時候有效率太多了。以下是這一週學到的我覺得值得筆記的部分。</span></p></div><div class="mb-2 text-lg"><h3 class="mt-6 text-2xl">Object movement</h3></div><div class="mb-2 text-lg"><p><span>在 Unity ，要讓一個物體移動有三種方式：</span></p></div><div class="mb-2 text-lg"><ul class="list-disc list-inside"><li><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Transform.position</code></li></ul></div><div class="mb-2 text-lg"><ul class="list-disc list-inside"><li><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Rigidbody.AddForce()</code></li></ul></div><div class="mb-2 text-lg"><ul class="list-disc list-inside"><li><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">CharacterController.Move()</code></li></ul></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">Transform.position</h4></div><div class="mb-2 text-lg"><p><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Transform</code><span> 是每個 gameObject 都有的屬性，掌管了物體的位置 (position)，角度 (rotation) 與大小 (scale) 。這三個屬性都具有 x, y, z 三個子屬性，對 position 你可以使用三維向量 (Vector3) ，對角度可以使用尤拉角 (Eular Angle) 來調整。</span></p></div><div class="mb-2 text-lg"><p><span>使用 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Transform.position</code><span> 調整物體位置的語法像是這樣：</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">Transform.position = new Vector3(0, 0, 1);</code></pre></div><div class="mb-2 text-lg"><p><span>在這裡，Vector3 裡面的數字都是整個遊戲地圖裡的絕對值，所以如果想基於物體位置進行移動，必須把物體當前位置也輸入進去。</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">Vector3 objectPos = Transform.position;
Transform.position = new Vector3(objetPos.x, objectPos.y, objectPos.z + 1);</code></pre></div><div class="mb-2 text-lg"><p><span>這樣就能讓物體朝向 Z 方向移動 1 單位。</span></p></div><div class="mb-2 text-lg"><p><span>使用 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Transform.position</code><span> 是強制調整物體位置，有點像是瞬間移動。適合的場合有攝影機等。</span></p></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">Rigidbody.Addforce</h4></div><div class="mb-2 text-lg"><p><span>來看看官方說明手冊的對 Rigidbody 的第一句說明：</span></p></div><div class="mb-2 text-lg"><div class="my-8 text-center whitespace-pre-wrap text-gray-600 dark:text-gray-400">Control of an object&#x27;s position through physics simulation.</div></div><div class="mb-2 text-lg"><p><span>Rigidbody 是從物理面上控制物體。 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">AddForce</code><span> 就是基於一個 Vector3 的角度給予外力。</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">Rigidbody.AddForce(new Vector3(0, 0, 10));</code></pre></div><div class="mb-2 text-lg"><p><span>這樣就會對該物體施加一股從 Z 方向來的大小為 10 的外力。</span></p></div><div class="mb-2 text-lg"><p><span>由於 Rigidbody 是模擬物理，所以外力大小，物體質量等等都會影響物體最終位移距離。如果外力夠大，物體就會跟落葉一樣被吹飛。適合的場合有破壞場景物件等等。</span></p></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">CharacterController.Move</h4></div><div class="mb-2 text-lg"><p><span>一樣來看看官方手冊的說明：</span></p></div><div class="mb-2 text-lg"><div class="my-8 text-center whitespace-pre-wrap text-gray-600 dark:text-gray-400">A CharacterController allows you to easily do movement constrained by collisions without having to deal with a rigidbody.
A CharacterController is not affected by forces and will only move when you call the Move function. It will then carry out the movement but be constrained by collisions.</div></div><div class="mb-2 text-lg"><p><span>CharacterControll 是專為移動遊戲角色設計的，而不用使用外力或是瞬間移動的方式，能夠直接操控角色的移動。引數一樣是使用 Vector3 調整三個維度的移動幅度。</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">CharacterController.Move(new Vector3(0, 0, 1));</code></pre></div><div class="mb-2 text-lg"><p><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">CharacterController.Move</code><span> 比起 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Rigidbody.AddForce</code><span> 更加平滑，且會受碰撞影響，比起 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Transform.position</code><span> 更加自然。</span></p></div><div class="mb-2 text-lg"><p><span>另外，值得注意的是有些動畫內建位移，若啟用 Root Motion 即使未使用任何移動函數仍然會移動物體，設計角色移動時必須將此一因素考慮進去。</span></p></div><div class="mb-2 text-lg"><h3 class="mt-6 text-2xl">Execution Order</h3></div><div class="mb-2 text-lg"><p><span>Unity 新增 script 的初始範本都包含兩個函數： </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Start()</code><span> 與 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Update()</code><span> 。這兩個函數都是腳本系統的核心之一。</span></p></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">Start()</h4></div><div class="mb-2 text-lg"><p><span>Start 會在 script 啟動後，Update 的第一個 frame 更新前被呼叫。整個腳本生命中只會被呼叫這一次。</span></p></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">Update()</h4></div><div class="mb-2 text-lg"><p><span>Update 會在每一幀 (frame) 都被呼叫一次。玩家指令，角色移動等等都可以在這之中執行循環確認。但每一幀呼叫一次有一個問題，這代表 Update() 的呼叫頻率受客戶端的幀數影響，規格好幀數高呼叫次數就多，規格差呼叫次數就少，這將在玩家之間造成不平衡。</span></p></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">FixedUpdate()</h4></div><div class="mb-2 text-lg"><p><span>FixedUpdate 呼叫次數比 Update 高，且不綁定幀數，如果客戶端幀數低， FixedUpdate 可能在一幀之中呼叫數次，相反地若客戶端幀數高， FixedUpdate 也可能一幀呼叫不到一次。所有物理模擬與運算都會在 FixedUpdate 結束後立刻發生。</span></p></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">LateUpdate()</h4></div><div class="mb-2 text-lg"><p><span>LateUpdate() 會在 Update() 結束後被呼叫，所以也是一幀一次。LateUpdate() 被呼叫時， Update() 的運算已經全數完成。常見的使用場合是計算攝影機位置，能夠保證在角色完成移動後，攝影機才移動到需要的位置。</span></p></div><div class="mb-2 text-lg"><h3 class="mt-6 text-2xl">Hitbox and hurtbox</h3></div><div class="mb-2 text-lg"><p><span>3D 遊戲不可避免的就是 hitbox 與 hurtbox 的計算。這個功能可以使用 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Physics.OverlapBox()</code><span> 達成。這個函數的功用是指定一個中心點與三維距離所建構的立方體，尋找所有進入這個立方體的其他碰撞體 (Collider)。更甚還可以指定 Layer ，將判斷對象限定在特定 Layer 。</span></p></div><div class="mb-2 text-lg"><p><span>首先給想要賦予 Hitbox 的物體，比如說角色的拳頭，增加一個 Collider ，然後勾選 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Is Trigger</code><span> 。這個選項可以讓該 Collider 不會與其他 Collider 造成碰撞與物理位移，而只會偵測碰撞體之間的重疊並依此觸發事件。具體實作如下：</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">public class AttackController : MonoBehaviour
{
		public Collider Hitbox;
		public int ATK;
		private List&lt;GameObject&gt; hitEnemies = new List&lt;GameObject&gt;();
			
		void Update()
		{
        DetectAttack(Hitbox);
		}
		
		public void ClearHitEnemyList()
		{
		    hitEnemies.Clear();
		}

		void DetectAttack(Collider hitbox)
		{
		    Collider[] hurtboxes = Physics.OverlapBox(
		        hitbox.bounds.center, // 中心點
		        hitbox.bounds.extents, // 三維尺寸
		        hitbox.transform.rotation, // 三維角度
		        LayerMask.GetMask(&quot;{INSERT LAYER NAME}&quot;) // 指定對象 layer
		    );
		    
				// hurtboxed 就是這次攻擊所有被註冊的受攻擊碰撞體
		    foreach (Collider hurtbox in hurtboxes)
		    {
		        GameObject enemy = hurtbox.gameObject;
		        if (!hitEnemies.Contains(enemy))
		        {
		            hitEnemies.Add(enemy);
		            enemy.doAnythingYouWant(...);
		        }
		    }
		}
}</code></pre></div><div class="mb-2 text-lg"><p><span>我在這邊已經加入了對同一目標的重複判斷，因為 hitbox 與 hurtbox 在同一次攻擊內也可能重合複數次，使用一個 List 記錄目標並比對每次擊中的目標是否已在本次攻擊的目標列表裡。開始攻擊時呼叫 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">ClearHitEnemyList</code><span> 清空列表即可。</span></p></div><div class="mb-2 text-lg"><p><span>最後的 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">enemy</code><span> 是受到攻擊的 collider 的父物件本身，如果該物件在受到攻擊時呼叫的腳本在該物件身上，等於要從攻擊角色的 hitbox 腳本呼叫另一個物件的腳本，可以使用 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">.SendMessageUpwards(&quot;{INSERT FUNC NAME}&quot;, {INSERT FUNC PARAM})</code><span> 。這個函數可以向上呼叫該腳本父物件的其他函數。</span></p></div><div class="mt-5 mb-5 text-center"><a href="https://asukachikaru.com" rel="noopener noreferrer" target="_blank">asukachikaru.com</a> <!-- -->2018-</div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"list":{"object":"list","results":[{"object":"block","id":"2a0d0702-2abe-4a96-8614-1922db754c7e","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:20:00.000Z","last_edited_time":"2020-03-08T05:28:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"在數年的醞釀以及一時的心血來潮以後，我開始第一次真正投入時間學習 Unity 。至今一週，最大的感想是過往兩年自學程式的經驗惠我良多，但並不是因為程式的概念等，而是在尋找資源，搜尋關鍵字，看文件的速度上，比起兩三年前另一次摸 Unity 的時候有效率太多了。以下是這一週學到的我覺得值得筆記的部分。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"在數年的醞釀以及一時的心血來潮以後，我開始第一次真正投入時間學習 Unity 。至今一週，最大的感想是過往兩年自學程式的經驗惠我良多，但並不是因為程式的概念等，而是在尋找資源，搜尋關鍵字，看文件的速度上，比起兩三年前另一次摸 Unity 的時候有效率太多了。以下是這一週學到的我覺得值得筆記的部分。","href":null}]}},{"object":"block","id":"aa836094-e05a-4bfa-ac6c-c5b4106ae4d6","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:27:00.000Z","last_edited_time":"2020-03-08T05:27:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Object movement","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Object movement","href":null}]}},{"object":"block","id":"11587c02-1a9f-4b97-9877-80596950f350","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:27:00.000Z","last_edited_time":"2020-03-08T05:28:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"在 Unity ，要讓一個物體移動有三種方式：","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"在 Unity ，要讓一個物體移動有三種方式：","href":null}]}},{"object":"block","id":"36177949-e491-4bea-9f51-8fbd942499ad","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:28:00.000Z","last_edited_time":"2022-12-29T04:00:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"color":"default","text":[{"type":"text","text":{"content":"Transform.position","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Transform.position","href":null}]}},{"object":"block","id":"7bdcc413-58d3-463d-a1e0-c82df9ae2184","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2022-12-29T04:00:00.000Z","last_edited_time":"2022-12-29T04:00:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"color":"default","text":[{"type":"text","text":{"content":"Rigidbody.AddForce()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Rigidbody.AddForce()","href":null}]}},{"object":"block","id":"f487b795-0195-44b4-906c-0ee45e45333a","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:29:00.000Z","last_edited_time":"2020-03-08T05:29:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"color":"default","text":[{"type":"text","text":{"content":"CharacterController.Move()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"CharacterController.Move()","href":null}]}},{"object":"block","id":"32188481-452e-49cd-9070-a266ff94fcd2","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:29:00.000Z","last_edited_time":"2020-03-08T05:30:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Transform.position","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Transform.position","href":null}]}},{"object":"block","id":"a9ddca98-d54c-4ba2-9588-806e3cab5cda","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:30:00.000Z","last_edited_time":"2020-03-08T05:34:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"Transform","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Transform","href":null},{"type":"text","text":{"content":" 是每個 gameObject 都有的屬性，掌管了物體的位置 (position)，角度 (rotation) 與大小 (scale) 。這三個屬性都具有 x, y, z 三個子屬性，對 position 你可以使用三維向量 (Vector3) ，對角度可以使用尤拉角 (Eular Angle) 來調整。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 是每個 gameObject 都有的屬性，掌管了物體的位置 (position)，角度 (rotation) 與大小 (scale) 。這三個屬性都具有 x, y, z 三個子屬性，對 position 你可以使用三維向量 (Vector3) ，對角度可以使用尤拉角 (Eular Angle) 來調整。","href":null}]}},{"object":"block","id":"7c8c1f00-b850-4913-bc31-7b096cee3f04","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:35:00.000Z","last_edited_time":"2020-03-08T05:36:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"使用 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"使用 ","href":null},{"type":"text","text":{"content":"Transform.position","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Transform.position","href":null},{"type":"text","text":{"content":" 調整物體位置的語法像是這樣：","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 調整物體位置的語法像是這樣：","href":null}]}},{"object":"block","id":"3dea8a5a-bd50-4997-8c81-94735d7b7925","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:36:00.000Z","last_edited_time":"2020-03-08T05:38:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"Transform.position = new Vector3(0, 0, 1);","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Transform.position = new Vector3(0, 0, 1);","href":null}]}},{"object":"block","id":"efa31167-b067-4ffa-94bc-7c22f99059d2","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:36:00.000Z","last_edited_time":"2020-03-08T05:37:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"在這裡，Vector3 裡面的數字都是整個遊戲地圖裡的絕對值，所以如果想基於物體位置進行移動，必須把物體當前位置也輸入進去。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"在這裡，Vector3 裡面的數字都是整個遊戲地圖裡的絕對值，所以如果想基於物體位置進行移動，必須把物體當前位置也輸入進去。","href":null}]}},{"object":"block","id":"bd090f47-765f-4746-af1a-c308f4d69b7d","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:37:00.000Z","last_edited_time":"2020-03-08T05:39:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"Vector3 objectPos = Transform.position;\nTransform.position = new Vector3(objetPos.x, objectPos.y, objectPos.z + 1);","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Vector3 objectPos = Transform.position;\nTransform.position = new Vector3(objetPos.x, objectPos.y, objectPos.z + 1);","href":null}]}},{"object":"block","id":"5df54d9d-2869-48b5-a446-6e038c14a65b","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:39:00.000Z","last_edited_time":"2020-03-08T05:39:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"這樣就能讓物體朝向 Z 方向移動 1 單位。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"這樣就能讓物體朝向 Z 方向移動 1 單位。","href":null}]}},{"object":"block","id":"78f7b002-0186-4dac-88d5-5baac851e3c2","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:41:00.000Z","last_edited_time":"2020-03-08T05:41:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"使用 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"使用 ","href":null},{"type":"text","text":{"content":"Transform.position","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Transform.position","href":null},{"type":"text","text":{"content":" 是強制調整物體位置，有點像是瞬間移動。適合的場合有攝影機等。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 是強制調整物體位置，有點像是瞬間移動。適合的場合有攝影機等。","href":null}]}},{"object":"block","id":"07b9a26c-9d71-4b11-8991-f163a1846ed1","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:39:00.000Z","last_edited_time":"2020-03-08T05:40:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Rigidbody.Addforce","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Rigidbody.Addforce","href":null}]}},{"object":"block","id":"17265845-33f0-4aa9-9759-73aae7c0c2d8","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:40:00.000Z","last_edited_time":"2020-03-08T05:43:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"來看看官方說明手冊的對 Rigidbody 的第一句說明：","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"來看看官方說明手冊的對 Rigidbody 的第一句說明：","href":null}]}},{"object":"block","id":"11b0d40b-7f81-4865-9e03-17d648b7f049","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:43:00.000Z","last_edited_time":"2020-03-08T05:43:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"quote","quote":{"color":"default","text":[{"type":"text","text":{"content":"Control of an object's position through physics simulation.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Control of an object's position through physics simulation.","href":null}]}},{"object":"block","id":"76fcb2cf-7ca8-4aa3-99cb-15830a053918","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:43:00.000Z","last_edited_time":"2020-03-08T05:45:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"Rigidbody 是從物理面上控制物體。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Rigidbody 是從物理面上控制物體。 ","href":null},{"type":"text","text":{"content":"AddForce","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"AddForce","href":null},{"type":"text","text":{"content":" 就是基於一個 Vector3 的角度給予外力。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 就是基於一個 Vector3 的角度給予外力。","href":null}]}},{"object":"block","id":"df454057-498e-44ec-b25c-482c425a71f8","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:45:00.000Z","last_edited_time":"2020-03-08T05:45:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"Rigidbody.AddForce(new Vector3(0, 0, 10));","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Rigidbody.AddForce(new Vector3(0, 0, 10));","href":null}]}},{"object":"block","id":"787fe69d-a35d-4d8d-8aaf-721417926d64","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:46:00.000Z","last_edited_time":"2020-03-08T05:46:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"這樣就會對該物體施加一股從 Z 方向來的大小為 10 的外力。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"這樣就會對該物體施加一股從 Z 方向來的大小為 10 的外力。","href":null}]}},{"object":"block","id":"2de1db32-2488-4d10-972d-355f9a802255","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:46:00.000Z","last_edited_time":"2020-03-08T05:49:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"由於 Rigidbody 是模擬物理，所以外力大小，物體質量等等都會影響物體最終位移距離。如果外力夠大，物體就會跟落葉一樣被吹飛。適合的場合有破壞場景物件等等。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"由於 Rigidbody 是模擬物理，所以外力大小，物體質量等等都會影響物體最終位移距離。如果外力夠大，物體就會跟落葉一樣被吹飛。適合的場合有破壞場景物件等等。","href":null}]}},{"object":"block","id":"f191d3b4-c4e8-4928-a5ba-385a247c24bd","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:49:00.000Z","last_edited_time":"2020-03-08T05:50:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"CharacterController.Move","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"CharacterController.Move","href":null}]}},{"object":"block","id":"214fbfa8-f948-4700-ae34-d551e09b8ed9","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:50:00.000Z","last_edited_time":"2020-03-08T05:52:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"一樣來看看官方手冊的說明：","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"一樣來看看官方手冊的說明：","href":null}]}},{"object":"block","id":"b7d2d907-9340-40c9-902b-603e2471189f","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:51:00.000Z","last_edited_time":"2020-03-08T05:51:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"quote","quote":{"color":"default","text":[{"type":"text","text":{"content":"A CharacterController allows you to easily do movement constrained by collisions without having to deal with a rigidbody.\nA CharacterController is not affected by forces and will only move when you call the Move function. It will then carry out the movement but be constrained by collisions.","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"A CharacterController allows you to easily do movement constrained by collisions without having to deal with a rigidbody.\nA CharacterController is not affected by forces and will only move when you call the Move function. It will then carry out the movement but be constrained by collisions.","href":null}]}},{"object":"block","id":"bb2da983-749d-4046-ace3-7372dfc9a731","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T05:52:00.000Z","last_edited_time":"2020-03-08T06:05:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"CharacterControll 是專為移動遊戲角色設計的，而不用使用外力或是瞬間移動的方式，能夠直接操控角色的移動。引數一樣是使用 Vector3 調整三個維度的移動幅度。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"CharacterControll 是專為移動遊戲角色設計的，而不用使用外力或是瞬間移動的方式，能夠直接操控角色的移動。引數一樣是使用 Vector3 調整三個維度的移動幅度。","href":null}]}},{"object":"block","id":"946d1c4c-30c8-4246-b2ce-c8de38b6aabc","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:05:00.000Z","last_edited_time":"2020-03-08T06:06:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"CharacterController.Move(new Vector3(0, 0, 1));","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"CharacterController.Move(new Vector3(0, 0, 1));","href":null}]}},{"object":"block","id":"3d122a9a-347a-44dc-90c5-b62b686e8e74","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:06:00.000Z","last_edited_time":"2020-03-08T06:11:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"CharacterController.Move","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"CharacterController.Move","href":null},{"type":"text","text":{"content":" 比起 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 比起 ","href":null},{"type":"text","text":{"content":"Rigidbody.AddForce","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Rigidbody.AddForce","href":null},{"type":"text","text":{"content":" 更加平滑，且會受碰撞影響，比起 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 更加平滑，且會受碰撞影響，比起 ","href":null},{"type":"text","text":{"content":"Transform.position","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Transform.position","href":null},{"type":"text","text":{"content":" 更加自然。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 更加自然。","href":null}]}},{"object":"block","id":"316cf024-1eaf-4220-9da5-0c04441600fb","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:11:00.000Z","last_edited_time":"2020-03-08T06:12:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"另外，值得注意的是有些動畫內建位移，若啟用 Root Motion 即使未使用任何移動函數仍然會移動物體，設計角色移動時必須將此一因素考慮進去。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"另外，值得注意的是有些動畫內建位移，若啟用 Root Motion 即使未使用任何移動函數仍然會移動物體，設計角色移動時必須將此一因素考慮進去。","href":null}]}},{"object":"block","id":"58545c34-521c-46c4-93b1-9b24146ca6c9","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:12:00.000Z","last_edited_time":"2020-03-08T06:13:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Execution Order","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Execution Order","href":null}]}},{"object":"block","id":"eca0ed79-67f4-4896-a01e-b0de0a4397f0","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:13:00.000Z","last_edited_time":"2020-03-08T06:32:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"Unity 新增 script 的初始範本都包含兩個函數： ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Unity 新增 script 的初始範本都包含兩個函數： ","href":null},{"type":"text","text":{"content":"Start()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Start()","href":null},{"type":"text","text":{"content":" 與 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 與 ","href":null},{"type":"text","text":{"content":"Update()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Update()","href":null},{"type":"text","text":{"content":" 。這兩個函數都是腳本系統的核心之一。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 。這兩個函數都是腳本系統的核心之一。","href":null}]}},{"object":"block","id":"ad06c1b4-4914-437f-9c7e-92ddf7caa688","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:32:00.000Z","last_edited_time":"2020-03-08T06:32:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Start()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Start()","href":null}]}},{"object":"block","id":"49b1ee8d-630f-4a86-ad10-17c9c0b234f5","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:32:00.000Z","last_edited_time":"2020-03-08T06:34:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"Start 會在 script 啟動後，Update 的第一個 frame 更新前被呼叫。整個腳本生命中只會被呼叫這一次。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Start 會在 script 啟動後，Update 的第一個 frame 更新前被呼叫。整個腳本生命中只會被呼叫這一次。","href":null}]}},{"object":"block","id":"e6db93a1-7662-4204-8eb2-6b42c985137b","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:34:00.000Z","last_edited_time":"2020-03-08T06:34:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Update()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Update()","href":null}]}},{"object":"block","id":"05ee07f0-f9f1-4e68-9f12-76d6e6ef911f","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:34:00.000Z","last_edited_time":"2020-03-08T06:37:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"Update 會在每一幀 (frame) 都被呼叫一次。玩家指令，角色移動等等都可以在這之中執行循環確認。但每一幀呼叫一次有一個問題，這代表 Update() 的呼叫頻率受客戶端的幀數影響，規格好幀數高呼叫次數就多，規格差呼叫次數就少，這將在玩家之間造成不平衡。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Update 會在每一幀 (frame) 都被呼叫一次。玩家指令，角色移動等等都可以在這之中執行循環確認。但每一幀呼叫一次有一個問題，這代表 Update() 的呼叫頻率受客戶端的幀數影響，規格好幀數高呼叫次數就多，規格差呼叫次數就少，這將在玩家之間造成不平衡。","href":null}]}},{"object":"block","id":"bfab918d-cd6e-4c8d-894a-01a9ae79eb58","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:37:00.000Z","last_edited_time":"2020-03-08T06:37:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"FixedUpdate()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"FixedUpdate()","href":null}]}},{"object":"block","id":"dac9046c-1473-47e8-ab2b-094bc7d6cc05","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:37:00.000Z","last_edited_time":"2020-03-08T06:41:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"FixedUpdate 呼叫次數比 Update 高，且不綁定幀數，如果客戶端幀數低， FixedUpdate 可能在一幀之中呼叫數次，相反地若客戶端幀數高， FixedUpdate 也可能一幀呼叫不到一次。所有物理模擬與運算都會在 FixedUpdate 結束後立刻發生。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"FixedUpdate 呼叫次數比 Update 高，且不綁定幀數，如果客戶端幀數低， FixedUpdate 可能在一幀之中呼叫數次，相反地若客戶端幀數高， FixedUpdate 也可能一幀呼叫不到一次。所有物理模擬與運算都會在 FixedUpdate 結束後立刻發生。","href":null}]}},{"object":"block","id":"3481ff0a-1379-498f-9114-cb8ac41351ac","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:41:00.000Z","last_edited_time":"2020-03-08T06:41:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"LateUpdate()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"LateUpdate()","href":null}]}},{"object":"block","id":"a6c4f932-c3bf-43cf-98f2-9ee284bbaa3c","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:41:00.000Z","last_edited_time":"2020-03-08T06:46:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"LateUpdate() 會在 Update() 結束後被呼叫，所以也是一幀一次。LateUpdate() 被呼叫時， Update() 的運算已經全數完成。常見的使用場合是計算攝影機位置，能夠保證在角色完成移動後，攝影機才移動到需要的位置。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"LateUpdate() 會在 Update() 結束後被呼叫，所以也是一幀一次。LateUpdate() 被呼叫時， Update() 的運算已經全數完成。常見的使用場合是計算攝影機位置，能夠保證在角色完成移動後，攝影機才移動到需要的位置。","href":null}]}},{"object":"block","id":"e193c4fb-6731-4583-9b97-37d7a6c2dc96","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:46:00.000Z","last_edited_time":"2020-03-08T07:00:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Hitbox and hurtbox","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Hitbox and hurtbox","href":null}]}},{"object":"block","id":"6a2e3aa2-dd42-4eb0-884f-df9f91cd2f09","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:47:00.000Z","last_edited_time":"2020-03-08T06:54:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"3D 遊戲不可避免的就是 hitbox 與 hurtbox 的計算。這個功能可以使用 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"3D 遊戲不可避免的就是 hitbox 與 hurtbox 的計算。這個功能可以使用 ","href":null},{"type":"text","text":{"content":"Physics.OverlapBox()","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Physics.OverlapBox()","href":null},{"type":"text","text":{"content":" 達成。這個函數的功用是指定一個中心點與三維距離所建構的立方體，尋找所有進入這個立方體的其他碰撞體 (Collider)。更甚還可以指定 Layer ，將判斷對象限定在特定 Layer 。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 達成。這個函數的功用是指定一個中心點與三維距離所建構的立方體，尋找所有進入這個立方體的其他碰撞體 (Collider)。更甚還可以指定 Layer ，將判斷對象限定在特定 Layer 。","href":null}]}},{"object":"block","id":"096d13a7-4bbf-40b5-92c3-662d5671f557","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T06:54:00.000Z","last_edited_time":"2020-03-08T07:06:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"首先給想要賦予 Hitbox 的物體，比如說角色的拳頭，增加一個 Collider ，然後勾選 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"首先給想要賦予 Hitbox 的物體，比如說角色的拳頭，增加一個 Collider ，然後勾選 ","href":null},{"type":"text","text":{"content":"Is Trigger","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Is Trigger","href":null},{"type":"text","text":{"content":" 。這個選項可以讓該 Collider 不會與其他 Collider 造成碰撞與物理位移，而只會偵測碰撞體之間的重疊並依此觸發事件。具體實作如下：","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 。這個選項可以讓該 Collider 不會與其他 Collider 造成碰撞與物理位移，而只會偵測碰撞體之間的重疊並依此觸發事件。具體實作如下：","href":null}]}},{"object":"block","id":"a5dace8a-c1f7-4aa3-9758-31ff8c06552e","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T07:06:00.000Z","last_edited_time":"2020-03-08T07:15:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"public class AttackController : MonoBehaviour\n{\n\t\tpublic Collider Hitbox;\n\t\tpublic int ATK;\n\t\tprivate List\u003cGameObject\u003e hitEnemies = new List\u003cGameObject\u003e();\n\t\t\t\n\t\tvoid Update()\n\t\t{\n        DetectAttack(Hitbox);\n\t\t}\n\t\t\n\t\tpublic void ClearHitEnemyList()\n\t\t{\n\t\t    hitEnemies.Clear();\n\t\t}\n\n\t\tvoid DetectAttack(Collider hitbox)\n\t\t{\n\t\t    Collider[] hurtboxes = Physics.OverlapBox(\n\t\t        hitbox.bounds.center, // 中心點\n\t\t        hitbox.bounds.extents, // 三維尺寸\n\t\t        hitbox.transform.rotation, // 三維角度\n\t\t        LayerMask.GetMask(\"{INSERT LAYER NAME}\") // 指定對象 layer\n\t\t    );\n\t\t    \n\t\t\t\t// hurtboxed 就是這次攻擊所有被註冊的受攻擊碰撞體\n\t\t    foreach (Collider hurtbox in hurtboxes)\n\t\t    {\n\t\t        GameObject enemy = hurtbox.gameObject;\n\t\t        if (!hitEnemies.Contains(enemy))\n\t\t        {\n\t\t            hitEnemies.Add(enemy);\n\t\t            enemy.doAnythingYouWant(...);\n\t\t        }\n\t\t    }\n\t\t}\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"public class AttackController : MonoBehaviour\n{\n\t\tpublic Collider Hitbox;\n\t\tpublic int ATK;\n\t\tprivate List\u003cGameObject\u003e hitEnemies = new List\u003cGameObject\u003e();\n\t\t\t\n\t\tvoid Update()\n\t\t{\n        DetectAttack(Hitbox);\n\t\t}\n\t\t\n\t\tpublic void ClearHitEnemyList()\n\t\t{\n\t\t    hitEnemies.Clear();\n\t\t}\n\n\t\tvoid DetectAttack(Collider hitbox)\n\t\t{\n\t\t    Collider[] hurtboxes = Physics.OverlapBox(\n\t\t        hitbox.bounds.center, // 中心點\n\t\t        hitbox.bounds.extents, // 三維尺寸\n\t\t        hitbox.transform.rotation, // 三維角度\n\t\t        LayerMask.GetMask(\"{INSERT LAYER NAME}\") // 指定對象 layer\n\t\t    );\n\t\t    \n\t\t\t\t// hurtboxed 就是這次攻擊所有被註冊的受攻擊碰撞體\n\t\t    foreach (Collider hurtbox in hurtboxes)\n\t\t    {\n\t\t        GameObject enemy = hurtbox.gameObject;\n\t\t        if (!hitEnemies.Contains(enemy))\n\t\t        {\n\t\t            hitEnemies.Add(enemy);\n\t\t            enemy.doAnythingYouWant(...);\n\t\t        }\n\t\t    }\n\t\t}\n}","href":null}]}},{"object":"block","id":"b50459be-5054-43fa-a148-06b333c6e7f9","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T07:12:00.000Z","last_edited_time":"2020-03-08T07:53:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"我在這邊已經加入了對同一目標的重複判斷，因為 hitbox 與 hurtbox 在同一次攻擊內也可能重合複數次，使用一個 List 記錄目標並比對每次擊中的目標是否已在本次攻擊的目標列表裡。開始攻擊時呼叫 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"我在這邊已經加入了對同一目標的重複判斷，因為 hitbox 與 hurtbox 在同一次攻擊內也可能重合複數次，使用一個 List 記錄目標並比對每次擊中的目標是否已在本次攻擊的目標列表裡。開始攻擊時呼叫 ","href":null},{"type":"text","text":{"content":"ClearHitEnemyList","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ClearHitEnemyList","href":null},{"type":"text","text":{"content":" 清空列表即可。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 清空列表即可。","href":null}]}},{"object":"block","id":"259761f4-7390-4d91-8c27-cdd558ecb6dc","parent":{"type":"page_id","page_id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0"},"created_time":"2020-03-08T07:30:00.000Z","last_edited_time":"2020-03-08T08:01:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"最後的 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"最後的 ","href":null},{"type":"text","text":{"content":"enemy","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"enemy","href":null},{"type":"text","text":{"content":" 是受到攻擊的 collider 的父物件本身，如果該物件在受到攻擊時呼叫的腳本在該物件身上，等於要從攻擊角色的 hitbox 腳本呼叫另一個物件的腳本，可以使用 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 是受到攻擊的 collider 的父物件本身，如果該物件在受到攻擊時呼叫的腳本在該物件身上，等於要從攻擊角色的 hitbox 腳本呼叫另一個物件的腳本，可以使用 ","href":null},{"type":"text","text":{"content":".SendMessageUpwards(\"{INSERT FUNC NAME}\", {INSERT FUNC PARAM})","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":".SendMessageUpwards(\"{INSERT FUNC NAME}\", {INSERT FUNC PARAM})","href":null},{"type":"text","text":{"content":" 。這個函數可以向上呼叫該腳本父物件的其他函數。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 。這個函數可以向上呼叫該腳本父物件的其他函數。","href":null}]}}],"next_cursor":null,"has_more":false},"postSummary":{"id":"5da2bab2-43c9-47f7-9d09-521dc26cd5d0","title":"Unity dev memo (1)","category":"programming","language":["zhTW"],"tags":["Unity3D","game design"],"publishDate":"2020-03-08","pathname":"unity-dev-memo-1","zhTwLink":"https://www.notion.so/asukachikaru/Unity-dev-memo-1-5da2bab243c947f79d09521dc26cd5d0"}},"__N_SSG":true},"page":"/post/[pathname]","query":{"pathname":"unity-dev-memo-1"},"buildId":"c8Rrz5JLw0JRT3H3pGk8Y","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>