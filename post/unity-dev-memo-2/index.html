<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Unity dev memo(2) | The work is undone.</title><meta name="description" content="asukachikaru&#x27;s blog"/><meta property="og:title" content="Unity dev memo(2) | The work is undone."/><meta property="twitter:title" content="Unity dev memo(2) | The work is undone."/><meta name="next-head-count" content="6"/><link rel="preload" href="/_next/static/css/dffe97692424ee50.css" as="style"/><link rel="stylesheet" href="/_next/static/css/dffe97692424ee50.css" data-n-g=""/><link rel="preload" href="/_next/static/css/d8403707d10b0477.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d8403707d10b0477.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-6415698a90a689fa.js" defer=""></script><script src="/_next/static/chunks/pages/_app-891652dd44e1e4e1.js" defer=""></script><script src="/_next/static/chunks/851-9acd1ec9a820dfa8.js" defer=""></script><script src="/_next/static/chunks/467-206e472a8fb3a402.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bpathname%5D-6cfc5c8b83af8180.js" defer=""></script><script src="/_next/static/qLrURZTK0qewbw-k22C5J/_buildManifest.js" defer=""></script><script src="/_next/static/qLrURZTK0qewbw-k22C5J/_ssgManifest.js" defer=""></script></head><link rel="preload" href="/fonts/NotoSerifJP-Regular.woff2" as="font" type="font/woff2"/><body><div id="__next"><div class="max-w-3xl mx-auto"><div class="mt-8 mb-4"><h1 class="mb-2 text-6xl font-semibold">Unity dev memo(2)</h1><div class="text-xl"><span class="inline-block h-6 leading-6 mr-2 pr-2 border-r border-r-foreground dark:border-r-background">Oct. 04, 2020</span><span class="mr-2 text-lg"><a href="/tag/Unity3D/">#<!-- -->Unity3D</a></span><span class="mr-2 text-lg"><a href="/tag/game%20design/">#<!-- -->game design</a></span></div></div><div class="mb-2 text-lg"><h3 class="mt-6 text-2xl">Raycast</h3></div><div class="mb-2 text-lg"><p><span>在使用滑鼠的 3D 遊戲中，幾乎與任何物件互動都需要使用滑鼠，判斷玩家游標的位置自然是非常重要且基礎的技術。然而相對 3D 世界的三維座標，存在於螢幕上的游標只有二維座標的 X 軸與 Y 軸兩個數據代表位置，這使得在遊戲世界中精準定位游標位置變得困難。</span></p></div><div class="mb-2 text-lg"><p><span>不過，大多數想要在遊戲中取得游標位置時，都是為了與存在該位置的物件互動。這個物件就能成為定位游標的輔助工具，只要計算從玩家視角中的游標，是否真正與遊戲世界中的該物件重合即可。</span></p></div><div class="mb-2 text-lg"><p><span>具體來說，這個判斷方式是從攝影機朝向滑鼠的二維座標射出一道直線，並判斷該射線所相交的物件。</span></p></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">Plane.Raycast</h4></div><div class="mb-2 text-lg"><p><span>先從這個技術的最基本實作，也就是判斷滑鼠在純平面上的座標開始。</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">using UnityEngine;

public class GetMousePos : MonoBehaviour {
    Plane plane = new Plane (Vector3.up, 0);
    Camera camera;
    Vector3 mousePos;

    void Start () {
        camera = Camera.main; 
    }

    void Update () {
        float distance;
        Ray ray = camera.ScreenPointToRay(Input.mousePosition);
        if(plane.Raycast(ray, out distance)){
            mousePos = ray.GetPoint(distance);
        }
    }
}</code></pre></div><div class="mb-2 text-lg"><p><span>一行一行解讀：</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">Plane plane = new Plane (Vector3.up, 0);</code></pre></div><div class="mb-2 text-lg"><p><span>從官方文件 </span><a class="text-blue-400 underline" href="https://docs.unity3d.com/ScriptReference/Plane-ctor.html" rel="noreferrer noopener" target="_blank">https://docs.unity3d.com/ScriptReference/Plane-ctor.html</a><span> 可以查到 Plane 的 constructor 是長這樣： </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Plane (Vector3 inNormal, float distance)</code><span> 。</span></p></div><div class="mb-2 text-lg"><p><span>以三維座標 (0, 0, 0) 為基準點，基於法線方向 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">inNormal</code><span> 在距離基準點 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">distance</code><span> 的位置創造一個平面。 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Vector3.up</code><span> 就等於 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Vector3 (0, 1, 0)</code><span> ，也就是筆直朝向 Y軸上方的向量。這個 plane 不會顯示在遊戲中，如果想要用視覺理解 plane 的概念，可以直接在 Editor 中新增一個 rotation 與 position 都為 (0, 0, 0) 的 Plane，這兩個平面基本上相同。</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">   Camera camera;
   Vector3 mousePos;
   void Start () {
       camera = Camera.main; 
   }</code></pre></div><div class="mb-2 text-lg"><p><span>將目前使用的主攝影機存為變數，並預先設立儲存滑鼠位置用的變數。</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">void Update () {
    float distance;
    Ray ray = camera.ScreenPointToRay(Input.mousePosition);
    ...</code></pre></div><div class="mb-2 text-lg"><p><span>在每次更新時，創建一個空的距離變數 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">distance</code><span> ，以及一個射線變數 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">ray</code><span> ，起點為攝影機的 near clipping plane，方向為滑鼠位置。</span></p></div><div class="mb-2 text-lg"><p><span>攝影機的顯示範圍是一個上窄下寬的梯形，頂部距離攝影機較近且面積較小的平面就是 near clipping plane，底部較遠較大的平面就是 far clipping plane。玩家所謂的遊戲視窗大小基本上就等於 near clipping plane， </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Camera.ScreenPointToRay</code><span> 也就是從 near clipping plane 射向 far clipping plane。</span></p></div><div class="mb-2 text-lg"><div class="my-6"><img class="max-w-3xl max-h-[48rem] m-auto" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/02ebd28b-07dd-4a7e-810f-4b38dd9dc195/camera_clipping_plane.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230101%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20230101T061930Z&amp;X-Amz-Expires=3600&amp;X-Amz-Signature=b65e06f675b8aa04230936dcf5364aaec02f156cb39987ba25952a3da2637c8b&amp;X-Amz-SignedHeaders=host&amp;x-id=GetObject"/><p class="text-center text-gray-400 text-md"></p></div></div><div class="mb-2 text-lg"><p><span>這兩個數值都可以從 camera 的 inspector 調整。</span></p></div><div class="mb-2 text-lg"><div class="my-6"><img class="max-w-3xl max-h-[48rem] m-auto" src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/8f2c6b61-a36a-4b1a-8339-112f62815e95/camera_inspector.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230101%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20230101T061930Z&amp;X-Amz-Expires=3600&amp;X-Amz-Signature=005a0809230b8f3256cd157f2d9c5f3c9b69cb57b18fb453aabb6c7200e59e35&amp;X-Amz-SignedHeaders=host&amp;x-id=GetObject"/><p class="text-center text-gray-400 text-md"></p></div></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">		... 
		if(plane.Raycast(ray, out distance)){
        mousePos = ray.GetPoint(distance);
    }
}</code></pre></div><div class="mb-2 text-lg"><p><span>回到程式碼， </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">plane.Raycast</code><span> 中的 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">out</code><span> 是另一個值得注意的地方。先看 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">plane.Raycast</code><span> 函數本身：</span></p></div><div class="mb-2 text-lg"><p><a class="text-blue-400 underline" href="https://docs.unity3d.com/ScriptReference/Plane.Raycast.html" rel="noreferrer noopener" target="_blank">https://docs.unity3d.com/ScriptReference/Plane.Raycast.html</a></p></div><div class="mb-2 text-lg"><p><span>這個函數的型別是 bool ，回傳引數 ray 是否與該 plane 相交。然而，部分函數提供額外的回傳值，取得值時必須提供一個空變數與 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">out</code><span> 關鍵字一起作為引數輸入。 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">plane.Raycast</code><span> 就是有提供 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">out</code><span> 回傳值的函數之一，提供的是當相交發生時從 ray 起點至相交點的距離 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">distance</code><span> 。因此這一段程式碼的作用是，判斷平面 plane 與 ray 是否有相交發生，如果有的話將距離儲存進 distance。現在射線起點，相交距離都知道了，就能計算出滑鼠位置便是從該射線上從起點開始距離 distance 的地方。</span></p></div><div class="mb-2 text-lg"><div class="my-6"><img class="max-w-3xl max-h-[48rem] m-auto" src="https://media.giphy.com/media/7HXZKoibWWzlcfKtuG/giphy.gif"/><p class="text-center text-gray-400 text-md"></p></div></div><div class="mb-2 text-lg"><p><span>以上就是在射線上增加元素使其可視化之後的展示，紅色點是射線起點 (</span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">ray.GetPoint(0)</code><span> )，藍色點是與平面相交點（ </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">ray.GetPoint(distance)</code><span> ）。可以看見起點不是攝影機本身，而是在 near clipping plane 上。</span></p></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">Collider.Raycast</h4></div><div class="mb-2 text-lg"><p><span>以上都是純平面的情況，實際在遊戲中常常有地形非單純平面的情況，此時可以使用 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">TerrainCollider</code><span> 來計算射線與地形 terrain 的相交點。</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class GetMousePos : MonoBehaviour {
    TerrainCollider terrainCollider;
    Camera camera;
    Vector3 mousePos;

    void Start () {
        camera = Camera.main;        
        terrainCollider = Terrain.activeTerrain.GetComponent&lt;TerrainCollider&gt;();
    }

    void Update () {
        Ray ray = camera.ScreenPointToRay(Input.mousePosition);
        RaycastHit hitData;
        if(terrainCollider.Raycast(ray, out hitData, 1000)){
            mousePos = hitData.point;
        }
    }
}</code></pre></div><div class="mb-2 text-lg"><p><span>內容大致相同，只是這次判斷相交點的元素不是平面，而是地形碰撞體 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">terrainCollider</code><span> ，而這個函數所提供的 out 相交資料也更豐富，不只有距離，而是一整個資料形態 RaycastHit </span><a class="text-blue-400 underline" href="https://docs.unity3d.com/ScriptReference/RaycastHit.html" rel="noreferrer noopener" target="_blank">https://docs.unity3d.com/ScriptReference/RaycastHit.html</a><span> ，包含 point, distance ,collider等，point 即為射線與 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">terrainCollider</code><span> 相交點。</span></p></div><div class="mb-2 text-lg"><div class="my-6"><img class="max-w-3xl max-h-[48rem] m-auto" src="https://media.giphy.com/media/DdPXrbKrY7gxmvNEWw/giphy.gif"/><p class="text-center text-gray-400 text-md"></p></div></div><div class="mb-2 text-lg"><p><span>上圖就是在不規則地形使用 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">terrainCollider.Raycast</code><span> 追蹤游標位置的展示，可以看見在右側遊戲畫面中游標移至山脈可見的南側時，左側的編輯器畫面也顯示游標位置的藍點直接跳過山脈北側，同時隨著地形一同起伏。</span></p></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">Physics.Raycast</h4></div><div class="mb-2 text-lg"><p><span>以上兩種實作的前提都是射線相交的對象為特定單一物件。想要判斷射線是否相交非特定物件時，使用 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Physics.Raycast</code><span> 。這個函數會抓取引數的射線相交的第一個對象，且同樣提供 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">out RaycastHit</code><span> 資料。</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class GetMousePos : MonoBehaviour {
    Camera camera;
    Vector3 mousePos;

    void Start () {
        camera = Camera.main;
    }

    void Update () {
        Ray ray = camera.ScreenPointToRay(Input.mousePosition);
        RaycastHit hitData;
        if(Physics.Raycast(ray, out hitData, 1000)){
            mousePos = hitData.point;
						GameObject hitObj = hitData.collider.transform.gameObject;
        }
    }
}</code></pre></div><div class="mb-2 text-lg"><p><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Physics.Raycast</code><span> 的提供距離引數做為判斷相交的最大距離，可以依照自己需求設定。</span></p></div><div class="mb-2 text-lg"><div class="my-6"><img class="max-w-3xl max-h-[48rem] m-auto" src="https://media.giphy.com/media/VubB29fN4nFvxd830e/giphy.gif"/><p class="text-center text-gray-400 text-md"></p></div></div><div class="mb-2 text-lg"><p><span>上圖為使用 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Physics.Raycast</code><span> 追蹤游標互動物件的展示，使用 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">RaycastHit.collider.transform.GameObject</code><span> 判斷射線的碰撞體的原物件之後就可以進行互動。</span></p></div><div class="mb-2 text-lg"><h4 class="mt-6 text-xl">LayerMask in Physics.Raycast</h4></div><div class="mb-2 text-lg"><p><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Physics.Raycast</code><span> 還提供圖層引數過濾判斷射線相交對象。</span></p></div><div class="mb-2 text-lg"><pre class="my-6 border whitespace-pre-wrap rounded-md"><code class="font-courier language-csharp rounded-md">using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class HighlightRayOrigin : MonoBehaviour {
    Camera camera;
    Vector3 mousePos;
    LayerMask layerMask = 1 &lt;&lt; 8;

    void Start () {
        camera = Camera.main;
    }

    void Update () {
        Ray ray = camera.ScreenPointToRay (Input.mousePosition);
        RaycastHit hitData;
        if (Physics.Raycast (ray, out hitData, 1000, layerMask)) {
            mousePos = hitData.point;            
						GameObject hitObj = hitData.collider.transform.gameObject;
        }
    }
}</code></pre></div><div class="mb-2 text-lg"><p><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Physics.Raycast</code><span> 的 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">layerMask</code><span> 引數就是指定圖層，只有在這個圖層中的物件才會觸發與射線相交的判斷。</span></p></div><div class="mb-2 text-lg"><p><span>請注意，雖然這個引數的型別是 int，但其實是二進制的 int，所以直接輸入在編輯器中顯示的圖層編號是不會正常運作的，必須以 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">&lt;&lt;</code><span> 運算子將指定編號以二進制方式儲存在變數中再傳遞給 </span><code class="px-1 font-courier text-red-500 bg-gray-700 rounded-sm">Physics.Raycast</code><span> 函數。</span></p></div><div class="mb-2 text-lg"><div class="my-6"><img class="max-w-3xl max-h-[48rem] m-auto" src="https://media.giphy.com/media/r505ukuetGAHNwCSZg/giphy.gif"/><p class="text-center text-gray-400 text-md"></p></div></div><div class="mb-2 text-lg"><p><span>上圖是使用 LayerMask 過濾可互動物件的展示，只有上層物件位於可互動的圖層中，因此游標在地形或是下層物件時藍點都不會隨之移動。</span></p></div><div class="mt-5 mb-5 text-center"><a href="https://asukachikaru.com" rel="noopener noreferrer" target="_blank">asukachikaru.com</a> <!-- -->2018-</div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"list":{"object":"list","results":[{"object":"block","id":"10bf4589-7cd1-4bd0-aa62-e200b93fbe37","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T10:53:00.000Z","last_edited_time":"2020-10-02T11:27:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Raycast","href":null}]}},{"object":"block","id":"f96cec1d-8f6d-486b-af73-99368139f5f4","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T11:27:00.000Z","last_edited_time":"2020-10-04T02:20:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"在使用滑鼠的 3D 遊戲中，幾乎與任何物件互動都需要使用滑鼠，判斷玩家游標的位置自然是非常重要且基礎的技術。然而相對 3D 世界的三維座標，存在於螢幕上的游標只有二維座標的 X 軸與 Y 軸兩個數據代表位置，這使得在遊戲世界中精準定位游標位置變得困難。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"在使用滑鼠的 3D 遊戲中，幾乎與任何物件互動都需要使用滑鼠，判斷玩家游標的位置自然是非常重要且基礎的技術。然而相對 3D 世界的三維座標，存在於螢幕上的游標只有二維座標的 X 軸與 Y 軸兩個數據代表位置，這使得在遊戲世界中精準定位游標位置變得困難。","href":null}]}},{"object":"block","id":"8d22c02f-bd00-4585-9be3-7fd28751aad7","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-03T15:24:00.000Z","last_edited_time":"2020-10-04T02:21:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"不過，大多數想要在遊戲中取得游標位置時，都是為了與存在該位置的物件互動。這個物件就能成為定位游標的輔助工具，只要計算從玩家視角中的游標，是否真正與遊戲世界中的該物件重合即可。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"不過，大多數想要在遊戲中取得游標位置時，都是為了與存在該位置的物件互動。這個物件就能成為定位游標的輔助工具，只要計算從玩家視角中的游標，是否真正與遊戲世界中的該物件重合即可。","href":null}]}},{"object":"block","id":"38b9801e-9022-41b7-8397-99c3958868f7","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-03T15:23:00.000Z","last_edited_time":"2020-10-04T02:28:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"具體來說，這個判斷方式是從攝影機朝向滑鼠的二維座標射出一道直線，並判斷該射線所相交的物件。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"具體來說，這個判斷方式是從攝影機朝向滑鼠的二維座標射出一道直線，並判斷該射線所相交的物件。","href":null}]}},{"object":"block","id":"7771b902-fbae-4a5f-9d20-ebcc23bf376e","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:20:00.000Z","last_edited_time":"2020-10-04T03:20:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Plane.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Plane.Raycast","href":null}]}},{"object":"block","id":"7b6ad3be-65a3-4994-8b9e-53b7ee36834f","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T11:36:00.000Z","last_edited_time":"2020-10-04T02:29:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"先從這個技術的最基本實作，也就是判斷滑鼠在純平面上的座標開始。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"先從這個技術的最基本實作，也就是判斷滑鼠在純平面上的座標開始。","href":null}]}},{"object":"block","id":"6d4febc3-3994-4b57-a5ff-1b29b7386c01","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T11:38:00.000Z","last_edited_time":"2020-10-02T13:32:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"using UnityEngine;\n\npublic class GetMousePos : MonoBehaviour {\n    Plane plane = new Plane (Vector3.up, 0);\n    Camera camera;\n    Vector3 mousePos;\n\n    void Start () {\n        camera = Camera.main; \n    }\n\n    void Update () {\n        float distance;\n        Ray ray = camera.ScreenPointToRay(Input.mousePosition);\n        if(plane.Raycast(ray, out distance)){\n            mousePos = ray.GetPoint(distance);\n        }\n    }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"using UnityEngine;\n\npublic class GetMousePos : MonoBehaviour {\n    Plane plane = new Plane (Vector3.up, 0);\n    Camera camera;\n    Vector3 mousePos;\n\n    void Start () {\n        camera = Camera.main; \n    }\n\n    void Update () {\n        float distance;\n        Ray ray = camera.ScreenPointToRay(Input.mousePosition);\n        if(plane.Raycast(ray, out distance)){\n            mousePos = ray.GetPoint(distance);\n        }\n    }\n}","href":null}]}},{"object":"block","id":"96cea991-3054-4f9f-829f-2a7546e09bc1","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T11:52:00.000Z","last_edited_time":"2020-10-02T11:55:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"一行一行解讀：","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"一行一行解讀：","href":null}]}},{"object":"block","id":"7e4a12c6-b1d0-41f8-8fd2-bdbee6a1e4bd","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T11:55:00.000Z","last_edited_time":"2020-10-02T13:32:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"Plane plane = new Plane (Vector3.up, 0);","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Plane plane = new Plane (Vector3.up, 0);","href":null}]}},{"object":"block","id":"b5471cae-49aa-4944-abda-f8822d09fb0d","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T11:57:00.000Z","last_edited_time":"2020-10-04T02:57:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"從官方文件 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"從官方文件 ","href":null},{"type":"text","text":{"content":"https://docs.unity3d.com/ScriptReference/Plane-ctor.html","link":{"url":"https://docs.unity3d.com/ScriptReference/Plane-ctor.html"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://docs.unity3d.com/ScriptReference/Plane-ctor.html","href":"https://docs.unity3d.com/ScriptReference/Plane-ctor.html"},{"type":"text","text":{"content":" 可以查到 Plane 的 constructor 是長這樣： ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 可以查到 Plane 的 constructor 是長這樣： ","href":null},{"type":"text","text":{"content":"Plane (Vector3 inNormal, float distance)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Plane (Vector3 inNormal, float distance)","href":null},{"type":"text","text":{"content":" 。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 。","href":null}]}},{"object":"block","id":"58a9aed1-46c0-4160-8a9b-a15d16238746","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T11:55:00.000Z","last_edited_time":"2020-10-04T02:37:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"以三維座標 (0, 0, 0) 為基準點，基於法線方向 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"以三維座標 (0, 0, 0) 為基準點，基於法線方向 ","href":null},{"type":"text","text":{"content":"inNormal","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"inNormal","href":null},{"type":"text","text":{"content":" 在距離基準點 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 在距離基準點 ","href":null},{"type":"text","text":{"content":"distance","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"distance","href":null},{"type":"text","text":{"content":" 的位置創造一個平面。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 的位置創造一個平面。 ","href":null},{"type":"text","text":{"content":"Vector3.up","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Vector3.up","href":null},{"type":"text","text":{"content":" 就等於 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 就等於 ","href":null},{"type":"text","text":{"content":"Vector3 (0, 1, 0)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Vector3 (0, 1, 0)","href":null},{"type":"text","text":{"content":" ，也就是筆直朝向 Y軸上方的向量。這個 plane 不會顯示在遊戲中，如果想要用視覺理解 plane 的概念，可以直接在 Editor 中新增一個 rotation 與 position 都為 (0, 0, 0) 的 Plane，這兩個平面基本上相同。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ，也就是筆直朝向 Y軸上方的向量。這個 plane 不會顯示在遊戲中，如果想要用視覺理解 plane 的概念，可以直接在 Editor 中新增一個 rotation 與 position 都為 (0, 0, 0) 的 Plane，這兩個平面基本上相同。","href":null}]}},{"object":"block","id":"c2625a6e-6b81-4534-ae31-b0141dc032fc","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T12:01:00.000Z","last_edited_time":"2020-10-02T12:01:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"   Camera camera;\n   Vector3 mousePos;\n   void Start () {\n       camera = Camera.main; \n   }","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"   Camera camera;\n   Vector3 mousePos;\n   void Start () {\n       camera = Camera.main; \n   }","href":null}]}},{"object":"block","id":"14ad7429-2e5c-4bb1-89e0-af7ff469b845","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T12:01:00.000Z","last_edited_time":"2020-10-02T12:02:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"將目前使用的主攝影機存為變數，並預先設立儲存滑鼠位置用的變數。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"將目前使用的主攝影機存為變數，並預先設立儲存滑鼠位置用的變數。","href":null}]}},{"object":"block","id":"511a1e96-78cf-4c0f-a60e-2e71ead59d0e","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T12:02:00.000Z","last_edited_time":"2020-10-03T14:52:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"void Update () {\n    float distance;\n    Ray ray = camera.ScreenPointToRay(Input.mousePosition);\n    ...","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"void Update () {\n    float distance;\n    Ray ray = camera.ScreenPointToRay(Input.mousePosition);\n    ...","href":null}]}},{"object":"block","id":"07c122b3-96f0-4483-b2a1-04eb68d002f4","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T12:02:00.000Z","last_edited_time":"2020-10-02T12:16:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"在每次更新時，創建一個空的距離變數 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"在每次更新時，創建一個空的距離變數 ","href":null},{"type":"text","text":{"content":"distance","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"distance","href":null},{"type":"text","text":{"content":" ，以及一個射線變數 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ，以及一個射線變數 ","href":null},{"type":"text","text":{"content":"ray","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ray","href":null},{"type":"text","text":{"content":" ，起點為攝影機的 near clipping plane，方向為滑鼠位置。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ，起點為攝影機的 near clipping plane，方向為滑鼠位置。","href":null}]}},{"object":"block","id":"6205fc36-5c40-4715-8bb9-3c093b9639e7","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T12:15:00.000Z","last_edited_time":"2020-10-02T12:20:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"攝影機的顯示範圍是一個上窄下寬的梯形，頂部距離攝影機較近且面積較小的平面就是 near clipping plane，底部較遠較大的平面就是 far clipping plane。玩家所謂的遊戲視窗大小基本上就等於 near clipping plane， ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"攝影機的顯示範圍是一個上窄下寬的梯形，頂部距離攝影機較近且面積較小的平面就是 near clipping plane，底部較遠較大的平面就是 far clipping plane。玩家所謂的遊戲視窗大小基本上就等於 near clipping plane， ","href":null},{"type":"text","text":{"content":"Camera.ScreenPointToRay","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Camera.ScreenPointToRay","href":null},{"type":"text","text":{"content":" 也就是從 near clipping plane 射向 far clipping plane。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 也就是從 near clipping plane 射向 far clipping plane。","href":null}]}},{"object":"block","id":"be314cff-eaff-4291-b666-56e8c69716a0","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T02:52:00.000Z","last_edited_time":"2020-10-04T02:52:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/02ebd28b-07dd-4a7e-810f-4b38dd9dc195/camera_clipping_plane.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230101%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20230101T061930Z\u0026X-Amz-Expires=3600\u0026X-Amz-Signature=b65e06f675b8aa04230936dcf5364aaec02f156cb39987ba25952a3da2637c8b\u0026X-Amz-SignedHeaders=host\u0026x-id=GetObject","expiry_time":"2023-01-01T07:19:30.427Z"}}},{"object":"block","id":"1289db46-205a-4111-a130-aaccdb52024c","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T02:43:00.000Z","last_edited_time":"2020-10-04T02:55:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"這兩個數值都可以從 camera 的 inspector 調整。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"這兩個數值都可以從 camera 的 inspector 調整。","href":null}]}},{"object":"block","id":"a0273338-e265-40b0-877d-1e7fd16aa9dc","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T02:55:00.000Z","last_edited_time":"2020-10-04T02:55:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"image","image":{"caption":[],"type":"file","file":{"url":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/8f2c6b61-a36a-4b1a-8339-112f62815e95/camera_inspector.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230101%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20230101T061930Z\u0026X-Amz-Expires=3600\u0026X-Amz-Signature=005a0809230b8f3256cd157f2d9c5f3c9b69cb57b18fb453aabb6c7200e59e35\u0026X-Amz-SignedHeaders=host\u0026x-id=GetObject","expiry_time":"2023-01-01T07:19:30.427Z"}}},{"object":"block","id":"d08ca157-8466-4855-a80c-29096f50a736","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-03T14:51:00.000Z","last_edited_time":"2020-10-03T14:51:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"\t\t... \n\t\tif(plane.Raycast(ray, out distance)){\n        mousePos = ray.GetPoint(distance);\n    }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"\t\t... \n\t\tif(plane.Raycast(ray, out distance)){\n        mousePos = ray.GetPoint(distance);\n    }\n}","href":null}]}},{"object":"block","id":"4c962813-6f69-46f5-a9dc-1973849361a4","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-03T14:39:00.000Z","last_edited_time":"2020-10-04T02:56:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"回到程式碼， ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"回到程式碼， ","href":null},{"type":"text","text":{"content":"plane.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"plane.Raycast","href":null},{"type":"text","text":{"content":" 中的 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 中的 ","href":null},{"type":"text","text":{"content":"out","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"out","href":null},{"type":"text","text":{"content":" 是另一個值得注意的地方。先看 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 是另一個值得注意的地方。先看 ","href":null},{"type":"text","text":{"content":"plane.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"plane.Raycast","href":null},{"type":"text","text":{"content":" 函數本身：","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 函數本身：","href":null}]}},{"object":"block","id":"bc175b1b-abce-4754-b440-96c6038082f7","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-03T14:41:00.000Z","last_edited_time":"2020-10-03T14:41:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"https://docs.unity3d.com/ScriptReference/Plane.Raycast.html","link":{"url":"https://docs.unity3d.com/ScriptReference/Plane.Raycast.html"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://docs.unity3d.com/ScriptReference/Plane.Raycast.html","href":"https://docs.unity3d.com/ScriptReference/Plane.Raycast.html"}]}},{"object":"block","id":"19d82f5e-1491-4ac5-8d13-e157a8e602d3","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-03T14:41:00.000Z","last_edited_time":"2020-10-03T14:50:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"這個函數的型別是 bool ，回傳引數 ray 是否與該 plane 相交。然而，部分函數提供額外的回傳值，取得值時必須提供一個空變數與 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"這個函數的型別是 bool ，回傳引數 ray 是否與該 plane 相交。然而，部分函數提供額外的回傳值，取得值時必須提供一個空變數與 ","href":null},{"type":"text","text":{"content":"out","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"out","href":null},{"type":"text","text":{"content":" 關鍵字一起作為引數輸入。 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 關鍵字一起作為引數輸入。 ","href":null},{"type":"text","text":{"content":"plane.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"plane.Raycast","href":null},{"type":"text","text":{"content":" 就是有提供 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 就是有提供 ","href":null},{"type":"text","text":{"content":"out","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"out","href":null},{"type":"text","text":{"content":" 回傳值的函數之一，提供的是當相交發生時從 ray 起點至相交點的距離 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 回傳值的函數之一，提供的是當相交發生時從 ray 起點至相交點的距離 ","href":null},{"type":"text","text":{"content":"distance","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"distance","href":null},{"type":"text","text":{"content":" 。因此這一段程式碼的作用是，判斷平面 plane 與 ray 是否有相交發生，如果有的話將距離儲存進 distance。現在射線起點，相交距離都知道了，就能計算出滑鼠位置便是從該射線上從起點開始距離 distance 的地方。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 。因此這一段程式碼的作用是，判斷平面 plane 與 ray 是否有相交發生，如果有的話將距離儲存進 distance。現在射線起點，相交距離都知道了，就能計算出滑鼠位置便是從該射線上從起點開始距離 distance 的地方。","href":null}]}},{"object":"block","id":"ec908280-852e-4d4b-a584-fd8b778bb54a","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T02:42:00.000Z","last_edited_time":"2020-10-04T02:42:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"image","image":{"caption":[],"type":"external","external":{"url":"https://media.giphy.com/media/7HXZKoibWWzlcfKtuG/giphy.gif"}}},{"object":"block","id":"85a9f58a-8946-43e4-b350-9fa8cb7694e5","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-03T14:43:00.000Z","last_edited_time":"2020-10-04T04:09:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"以上就是在射線上增加元素使其可視化之後的展示，紅色點是射線起點 (","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"以上就是在射線上增加元素使其可視化之後的展示，紅色點是射線起點 (","href":null},{"type":"text","text":{"content":"ray.GetPoint(0)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ray.GetPoint(0)","href":null},{"type":"text","text":{"content":" )，藍色點是與平面相交點（ ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" )，藍色點是與平面相交點（ ","href":null},{"type":"text","text":{"content":"ray.GetPoint(distance)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"ray.GetPoint(distance)","href":null},{"type":"text","text":{"content":" ）。可以看見起點不是攝影機本身，而是在 near clipping plane 上。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ）。可以看見起點不是攝影機本身，而是在 near clipping plane 上。","href":null}]}},{"object":"block","id":"9087dfa2-9506-4f0d-83d5-e994f7f996d4","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:20:00.000Z","last_edited_time":"2020-10-04T03:20:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Collider.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Collider.Raycast","href":null}]}},{"object":"block","id":"07985b72-a1fb-4c26-a593-4f698515d69f","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:10:00.000Z","last_edited_time":"2020-10-04T03:10:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"以上都是純平面的情況，實際在遊戲中常常有地形非單純平面的情況，此時可以使用 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"以上都是純平面的情況，實際在遊戲中常常有地形非單純平面的情況，此時可以使用 ","href":null},{"type":"text","text":{"content":"TerrainCollider","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"TerrainCollider","href":null},{"type":"text","text":{"content":" 來計算射線與地形 terrain 的相交點。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 來計算射線與地形 terrain 的相交點。","href":null}]}},{"object":"block","id":"b3b390aa-80c9-4688-8efc-79482e61dfa8","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T13:05:00.000Z","last_edited_time":"2020-10-02T14:59:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class GetMousePos : MonoBehaviour {\n    TerrainCollider terrainCollider;\n    Camera camera;\n    Vector3 mousePos;\n\n    void Start () {\n        camera = Camera.main;        \n        terrainCollider = Terrain.activeTerrain.GetComponent\u003cTerrainCollider\u003e();\n    }\n\n    void Update () {\n        Ray ray = camera.ScreenPointToRay(Input.mousePosition);\n        RaycastHit hitData;\n        if(terrainCollider.Raycast(ray, out hitData, 1000)){\n            mousePos = hitData.point;\n        }\n    }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class GetMousePos : MonoBehaviour {\n    TerrainCollider terrainCollider;\n    Camera camera;\n    Vector3 mousePos;\n\n    void Start () {\n        camera = Camera.main;        \n        terrainCollider = Terrain.activeTerrain.GetComponent\u003cTerrainCollider\u003e();\n    }\n\n    void Update () {\n        Ray ray = camera.ScreenPointToRay(Input.mousePosition);\n        RaycastHit hitData;\n        if(terrainCollider.Raycast(ray, out hitData, 1000)){\n            mousePos = hitData.point;\n        }\n    }\n}","href":null}]}},{"object":"block","id":"160d7fd1-1d84-4e33-97bd-934f42d7e765","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:11:00.000Z","last_edited_time":"2020-10-04T03:13:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"內容大致相同，只是這次判斷相交點的元素不是平面，而是地形碰撞體 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"內容大致相同，只是這次判斷相交點的元素不是平面，而是地形碰撞體 ","href":null},{"type":"text","text":{"content":"terrainCollider","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"terrainCollider","href":null},{"type":"text","text":{"content":" ，而這個函數所提供的 out 相交資料也更豐富，不只有距離，而是一整個資料形態 RaycastHit ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ，而這個函數所提供的 out 相交資料也更豐富，不只有距離，而是一整個資料形態 RaycastHit ","href":null},{"type":"text","text":{"content":"https://docs.unity3d.com/ScriptReference/RaycastHit.html","link":{"url":"https://docs.unity3d.com/ScriptReference/RaycastHit.html"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://docs.unity3d.com/ScriptReference/RaycastHit.html","href":"https://docs.unity3d.com/ScriptReference/RaycastHit.html"},{"type":"text","text":{"content":" ，包含 point, distance ,collider等，point 即為射線與 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ，包含 point, distance ,collider等，point 即為射線與 ","href":null},{"type":"text","text":{"content":"terrainCollider","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"terrainCollider","href":null},{"type":"text","text":{"content":" 相交點。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 相交點。","href":null}]}},{"object":"block","id":"902d087e-67f4-4024-b95f-ceaab226b2f1","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T04:05:00.000Z","last_edited_time":"2020-10-04T04:05:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"image","image":{"caption":[],"type":"external","external":{"url":"https://media.giphy.com/media/DdPXrbKrY7gxmvNEWw/giphy.gif"}}},{"object":"block","id":"45e4fd75-e89b-4ce6-9797-f342f4888759","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T04:05:00.000Z","last_edited_time":"2020-10-04T04:09:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"上圖就是在不規則地形使用 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"上圖就是在不規則地形使用 ","href":null},{"type":"text","text":{"content":"terrainCollider.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"terrainCollider.Raycast","href":null},{"type":"text","text":{"content":" 追蹤游標位置的展示，可以看見在右側遊戲畫面中游標移至山脈可見的南側時，左側的編輯器畫面也顯示游標位置的藍點直接跳過山脈北側，同時隨著地形一同起伏。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 追蹤游標位置的展示，可以看見在右側遊戲畫面中游標移至山脈可見的南側時，左側的編輯器畫面也顯示游標位置的藍點直接跳過山脈北側，同時隨著地形一同起伏。","href":null}]}},{"object":"block","id":"a53d7daf-a216-4fd6-babc-3bb923130056","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:20:00.000Z","last_edited_time":"2020-10-04T04:05:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"Physics.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Physics.Raycast","href":null}]}},{"object":"block","id":"2c776904-fbca-46c6-96d5-f22cfbaebdbc","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:13:00.000Z","last_edited_time":"2020-10-04T03:15:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"以上兩種實作的前提都是射線相交的對象為特定單一物件。想要判斷射線是否相交非特定物件時，使用 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"以上兩種實作的前提都是射線相交的對象為特定單一物件。想要判斷射線是否相交非特定物件時，使用 ","href":null},{"type":"text","text":{"content":"Physics.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Physics.Raycast","href":null},{"type":"text","text":{"content":" 。這個函數會抓取引數的射線相交的第一個對象，且同樣提供 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 。這個函數會抓取引數的射線相交的第一個對象，且同樣提供 ","href":null},{"type":"text","text":{"content":"out RaycastHit","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"out RaycastHit","href":null},{"type":"text","text":{"content":" 資料。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 資料。","href":null}]}},{"object":"block","id":"45e4540c-8fc5-4698-b5b7-fbde87ec29b3","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-02T13:31:00.000Z","last_edited_time":"2020-10-03T14:36:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class GetMousePos : MonoBehaviour {\n    Camera camera;\n    Vector3 mousePos;\n\n    void Start () {\n        camera = Camera.main;\n    }\n\n    void Update () {\n        Ray ray = camera.ScreenPointToRay(Input.mousePosition);\n        RaycastHit hitData;\n        if(Physics.Raycast(ray, out hitData, 1000)){\n            mousePos = hitData.point;\n\t\t\t\t\t\tGameObject hitObj = hitData.collider.transform.gameObject;\n        }\n    }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class GetMousePos : MonoBehaviour {\n    Camera camera;\n    Vector3 mousePos;\n\n    void Start () {\n        camera = Camera.main;\n    }\n\n    void Update () {\n        Ray ray = camera.ScreenPointToRay(Input.mousePosition);\n        RaycastHit hitData;\n        if(Physics.Raycast(ray, out hitData, 1000)){\n            mousePos = hitData.point;\n\t\t\t\t\t\tGameObject hitObj = hitData.collider.transform.gameObject;\n        }\n    }\n}","href":null}]}},{"object":"block","id":"b029d69a-23f4-4831-a15f-49a321d20f21","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:16:00.000Z","last_edited_time":"2020-10-04T04:12:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"Physics.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Physics.Raycast","href":null},{"type":"text","text":{"content":" 的提供距離引數做為判斷相交的最大距離，可以依照自己需求設定。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 的提供距離引數做為判斷相交的最大距離，可以依照自己需求設定。","href":null}]}},{"object":"block","id":"aae8a18d-670a-42b3-aca2-a3915975ba07","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T04:10:00.000Z","last_edited_time":"2020-10-04T04:10:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"image","image":{"caption":[],"type":"external","external":{"url":"https://media.giphy.com/media/VubB29fN4nFvxd830e/giphy.gif"}}},{"object":"block","id":"27a8c8bb-ad86-47df-ab62-fa9d5d2523c3","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T04:10:00.000Z","last_edited_time":"2020-10-04T04:15:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"上圖為使用 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"上圖為使用 ","href":null},{"type":"text","text":{"content":"Physics.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Physics.Raycast","href":null},{"type":"text","text":{"content":" 追蹤游標互動物件的展示，使用 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 追蹤游標互動物件的展示，使用 ","href":null},{"type":"text","text":{"content":"RaycastHit.collider.transform.GameObject","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"RaycastHit.collider.transform.GameObject","href":null},{"type":"text","text":{"content":" 判斷射線的碰撞體的原物件之後就可以進行互動。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 判斷射線的碰撞體的原物件之後就可以進行互動。","href":null}]}},{"object":"block","id":"71621cc8-23d1-490c-a47c-4fd797f340f7","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:20:00.000Z","last_edited_time":"2020-10-04T04:10:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"heading_3","heading_3":{"is_toggleable":false,"color":"default","text":[{"type":"text","text":{"content":"LayerMask in Physics.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"LayerMask in Physics.Raycast","href":null}]}},{"object":"block","id":"bb6898b7-3ef5-4a28-9686-93dacd6892ae","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:18:00.000Z","last_edited_time":"2020-10-04T03:21:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"Physics.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Physics.Raycast","href":null},{"type":"text","text":{"content":" 還提供圖層引數過濾判斷射線相交對象。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 還提供圖層引數過濾判斷射線相交對象。","href":null}]}},{"object":"block","id":"453e45cd-10bd-4a42-a661-e4b6f0934dd1","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-03T14:36:00.000Z","last_edited_time":"2020-10-03T14:37:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"language":"c#","text":[{"type":"text","text":{"content":"using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class HighlightRayOrigin : MonoBehaviour {\n    Camera camera;\n    Vector3 mousePos;\n    LayerMask layerMask = 1 \u003c\u003c 8;\n\n    void Start () {\n        camera = Camera.main;\n    }\n\n    void Update () {\n        Ray ray = camera.ScreenPointToRay (Input.mousePosition);\n        RaycastHit hitData;\n        if (Physics.Raycast (ray, out hitData, 1000, layerMask)) {\n            mousePos = hitData.point;            \n\t\t\t\t\t\tGameObject hitObj = hitData.collider.transform.gameObject;\n        }\n    }\n}","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class HighlightRayOrigin : MonoBehaviour {\n    Camera camera;\n    Vector3 mousePos;\n    LayerMask layerMask = 1 \u003c\u003c 8;\n\n    void Start () {\n        camera = Camera.main;\n    }\n\n    void Update () {\n        Ray ray = camera.ScreenPointToRay (Input.mousePosition);\n        RaycastHit hitData;\n        if (Physics.Raycast (ray, out hitData, 1000, layerMask)) {\n            mousePos = hitData.point;            \n\t\t\t\t\t\tGameObject hitObj = hitData.collider.transform.gameObject;\n        }\n    }\n}","href":null}]}},{"object":"block","id":"0b4edcd2-329d-4e18-a992-0282c77f0285","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:21:00.000Z","last_edited_time":"2020-10-04T03:22:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"Physics.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Physics.Raycast","href":null},{"type":"text","text":{"content":" 的 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 的 ","href":null},{"type":"text","text":{"content":"layerMask","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"layerMask","href":null},{"type":"text","text":{"content":" 引數就是指定圖層，只有在這個圖層中的物件才會觸發與射線相交的判斷。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 引數就是指定圖層，只有在這個圖層中的物件才會觸發與射線相交的判斷。","href":null}]}},{"object":"block","id":"354adae4-eddf-470d-bb2c-5f91da501cbc","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T03:21:00.000Z","last_edited_time":"2020-10-04T03:21:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"請注意，雖然這個引數的型別是 int，但其實是二進制的 int，所以直接輸入在編輯器中顯示的圖層編號是不會正常運作的，必須以 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"請注意，雖然這個引數的型別是 int，但其實是二進制的 int，所以直接輸入在編輯器中顯示的圖層編號是不會正常運作的，必須以 ","href":null},{"type":"text","text":{"content":"\u003c\u003c","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"\u003c\u003c","href":null},{"type":"text","text":{"content":" 運算子將指定編號以二進制方式儲存在變數中再傳遞給 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 運算子將指定編號以二進制方式儲存在變數中再傳遞給 ","href":null},{"type":"text","text":{"content":"Physics.Raycast","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"Physics.Raycast","href":null},{"type":"text","text":{"content":" 函數。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 函數。","href":null}]}},{"object":"block","id":"0de99a7a-67c4-4078-9611-ab161b493514","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T04:19:00.000Z","last_edited_time":"2020-10-04T04:19:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"image","image":{"caption":[],"type":"external","external":{"url":"https://media.giphy.com/media/r505ukuetGAHNwCSZg/giphy.gif"}}},{"object":"block","id":"cd593d25-122c-4fc0-ba17-289e4d3ffe3e","parent":{"type":"page_id","page_id":"ae562b5c-9310-4ede-b60e-a86ee16eb439"},"created_time":"2020-10-04T04:19:00.000Z","last_edited_time":"2020-10-04T04:20:00.000Z","created_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"last_edited_by":{"object":"user","id":"63312095-c98b-48c5-9a66-1cfd309ed6bd"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"color":"default","text":[{"type":"text","text":{"content":"上圖是使用 LayerMask 過濾可互動物件的展示，只有上層物件位於可互動的圖層中，因此游標在地形或是下層物件時藍點都不會隨之移動。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"上圖是使用 LayerMask 過濾可互動物件的展示，只有上層物件位於可互動的圖層中，因此游標在地形或是下層物件時藍點都不會隨之移動。","href":null}]}}],"next_cursor":null,"has_more":false},"postSummary":{"id":"ae562b5c-9310-4ede-b60e-a86ee16eb439","title":"Unity dev memo(2)","category":"programming","language":["zhTW"],"tags":["Unity3D","game design"],"publishDate":"2020-10-04","pathname":"unity-dev-memo-2","zhTwLink":"https://www.notion.so/asukachikaru/Unity-dev-memo-2-ae562b5c93104edeb60ea86ee16eb439"}},"__N_SSG":true},"page":"/post/[pathname]","query":{"pathname":"unity-dev-memo-2"},"buildId":"qLrURZTK0qewbw-k22C5J","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>